<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>MPM APP V3 ‚Äî Preemptive Movement</title>

<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
    text-align:center;
    color:white;
    background:#1A1A1A;
    transition:0.6s;
}
h1{font-size:26px;margin-top:24px;font-weight:900;}
p{font-size:16px;line-height:1.5;margin:10px 0;}
.hidden{display:none;}

button{
    width:88%;
    max-width:480px;
    font-size:18px;
    padding:14px 0;
    margin:15px auto 0 auto;
    border:none;
    border-radius:10px;
    background:#FF2448;
    color:white;
    font-weight:bold;
    cursor:pointer;
    display:block;
}
button:hover{opacity:.95;}

.panel{
    width:90%;max-width:520px;margin:4vh auto;
    background:#222; padding:20px;border-radius:12px;
}

/* MEN√ö DE TESTS */
.menu-btn{
    background:#333;
    font-size:17px;
    margin-top:10px;
}

/* TEST */
.test-card{
    width:90%;max-width:520px;margin:4vh auto;
    background:#222;padding:22px;border-radius:12px;
}
.test-title{font-size:20px;margin-bottom:10px;font-weight:bold;}
.label{font-size:19px;margin:20px 0 8px;font-weight:bold;}
input[type=range]{width:100%;height:32px;}
.range-val{font-size:22px;margin-top:5px;font-weight:bold;color:#FFDB6E;}

.nav-btn{
    background:#00C1FF;
    font-size:20px;
    margin-top:20px;
}
.back-btn{
    background:#666;
    font-size:16px;
    margin-top:10px;
}

/* RESULTADO */
.result-box{
    width:90%;max-width:520px;margin:4vh auto;
    background:#111;padding:22px;border-radius:12px;
    text-align:left;font-size:17px;
}
.tag{
    padding:3px 9px;border-radius:8px;
    color:#000;font-weight:bold;font-size:14px;
}
.fuego{background:#ff5e37;}
.agua{background:#37b3ff;}
.tierra{background:#7ad65d;}
.aire{background:#dfe6e9;}

.footer{
    font-size:13px;margin:18px 0;opacity:.85;
}

/* CAMPOS ENV√çO */
input[type=text], input[type=email]{
    width:88%;
    max-width:520px;
    padding:10px;
    margin:6px auto;
    border-radius:8px;
    border:none;
    font-size:15px;
    display:block;
}

/* TEMAS DIN√ÅMICOS */
.theme-fuego  {background:linear-gradient(135deg,#FF3D00,#FF7043);}
.theme-agua   {background:linear-gradient(135deg,#0277BD,#26C6DA);}
.theme-tierra {background:linear-gradient(135deg,#4E642C,#9CCC65);}
.theme-aire   {background:linear-gradient(135deg,#90A4AE,#ECEFF1);}
</style>
</head>
<body>

<!-- HOME -->
<div id="home">
  <h1>MPM ‚Ä¢ Manual Preemptive Movement</h1>
  <p>Todo lo que desees emprender puede analizarse preventivamente.<br>
     La anticipaci√≥n es poder.</p>
  <button onclick="go('about')">ENTRAR</button>
</div>

<!-- ABOUT -->
<div id="about" class="hidden">
  <h1>¬øQu√© es MPM?</h1>
  <div class="panel">
    <p><b>MPM ‚Äî Manual Preemptive Movement</b></p>
    <p>Sistema de an√°lisis, decodificaci√≥n y lectura estrat√©gica personal y empresarial.</p>
    <p>Los test son solo la puerta de entrada.</p>
    <p>
      Adem√°s del diagn√≥stico vibracional mediante 16 m√≥dulos,
      MPM incluye investigaci√≥n profunda a trav√©s de:
    </p>
    <ul style="text-align:left;font-size:15px;line-height:1.4;margin:10px 0 0 18px;">
      <li>Mapas cognitivos aplicados</li>
      <li>Shadowing y observaci√≥n en entorno real</li>
      <li>Procesos de motivaci√≥n personal y empresarial</li>
      <li>Lectura de cultura y direcci√≥n organizacional</li>
      <li>An√°lisis de patrones, bloqueos y potencial evolutivo</li>
    </ul>
    <p style="margin-top:10px;">
      No solo interpretamos datos, los transformamos en acci√≥n.
    </p>
    <hr style="margin:14px 0;border-color:#444;">
    <p style="font-size:13px;opacity:.9;">
      Uso recomendado para mayores de 18 a√±os. Los test ofrecen una lectura de estado
      y tendencia actual. El crecimiento real ocurre con an√°lisis profundo y
      acompa√±amiento personalizado.
    </p>
  </div>
  <button onclick="go('menu')">SELECCIONAR TEST</button>
</div>

<!-- MEN√ö 16 TESTS -->
<div id="menu" class="hidden">
  <h1>Selecciona un Test MPM</h1>
  <div class="panel">
    <p style="font-size:14px;">
      Cada test son 16 preguntas. Responde del 1 al 10 seg√∫n tu afinidad actual.
    </p>
  </div>

  <button class="menu-btn" onclick="startTest('colores')">üé® Colores ‚Äî Emoci√≥n</button>
  <button class="menu-btn" onclick="startTest('ciudades')">üåÜ Ciudades ‚Äî Expansi√≥n social</button>
  <button class="menu-btn" onclick="startTest('autos')">üöó Autom√≥viles ‚Äî Ambici√≥n y ritmo</button>
  <button class="menu-btn" onclick="startTest('alimentos')">üçΩ Alimentos ‚Äî Instinto y placer</button>
  <button class="menu-btn" onclick="startTest('profesiones')">üíº Profesiones ‚Äî Vocaci√≥n</button>
  <button class="menu-btn" onclick="startTest('animales')">ü¶Å Animales ‚Äî Fuerza instintiva</button>
  <button class="menu-btn" onclick="startTest('estaciones')">üçÅ Estaciones ‚Äî Ritmo vital</button>
  <button class="menu-btn" onclick="startTest('instrumentos')">üéµ Instrumentos ‚Äî Creatividad</button>
  <button class="menu-btn" onclick="startTest('paises')">üåç Pa√≠ses ‚Äî Visi√≥n global</button>
  <button class="menu-btn" onclick="startTest('metales')">üî© Metales ‚Äî Fortaleza interna</button>
  <button class="menu-btn" onclick="startTest('paisajes')">üèû Paisajes ‚Äî Terreno emocional</button>
  <button class="menu-btn" onclick="startTest('arquitectura')">üèõ Arquitectura ‚Äî Orden mental</button>
  <button class="menu-btn" onclick="startTest('sabores')">üçØ Sabores ‚Äî Recompensa emocional</button>
  <button class="menu-btn" onclick="startTest('tecnologias')">üì≤ Tecnolog√≠as ‚Äî Adaptaci√≥n futura</button>
  <button class="menu-btn" onclick="startTest('epocas')">‚åõ √âpocas hist√≥ricas ‚Äî Tiempo interno</button>
  <button class="menu-btn" onclick="startTest('arquetipos')">üî± Arquetipos ‚Äî Inconsciente simb√≥lico</button>

  <p class="footer">
    Para an√°lisis profesional y procesos profundos personales o empresariales:<br>
    <b>preemptivemovement@gmail.com</b>
  </p>
</div>

<!-- TEST -->
<div id="test" class="hidden">
  <div class="test-card">
    <div class="test-title" id="testName"></div>
    <p style="font-size:14px;margin-bottom:10px;">
      Responde del 1 al 10 seg√∫n tu afinidad o preferencia actual.
    </p>
    <div class="label" id="pregunta"></div>
    <input id="slider" type="range" min="1" max="10" value="5" oninput="updateVal()">
    <div class="range-val" id="valor">5</div>

    <button class="nav-btn" onclick="next()">Siguiente ‚ñ∂</button>
    <button class="back-btn" onclick="prev()">‚óÄ Atr√°s</button>
  </div>
</div>

<!-- RESULTADO -->
<div id="result" class="hidden">
  <h1>Resultado MPM</h1>
  <div id="resultado" class="result-box"></div>

  <div class="panel" style="margin-top:15px;">
    <p style="font-size:15px;">
      Todo estado es transitorio. Una energ√≠a positiva puede sostenerse o perderse;
      una energ√≠a tensa puede transformarse.<br><br>
      Este resultado es una lectura de momento. La verdadera profundidad aparece
      cuando se trabaja con an√°lisis m√°s amplio, mapas cognitivos, shadowing
      y procesos de motivaci√≥n aplicada.
    </p>
  </div>

  <div class="panel">
    <p style="font-size:15px;">¬øQuieres que analice personalmente este resultado?</p>
    <input type="text" id="userName" placeholder="Tu nombre (obligatorio)">
    <input type="email" id="userEmail" placeholder="Tu correo (opcional)">
    <button onclick="sendEmail()">Enviar resultado para an√°lisis personalizado</button>
    <p class="footer">
      Se abrir√° tu correo con el resultado preparado.<br>
      Solo tendr√°s que pulsar ‚ÄúEnviar‚Äù.
    </p>
  </div>

  <button onclick="location.reload()">NUEVA LECTURA</button>
</div>

<script>
// ========================= DATOS DE TESTS =========================
const tests = {
  colores:["Rojo","Azul","Verde","Amarillo","Negro","Blanco","Morado","Naranja",
           "Rosa","Gris","Turquesa","Marr√≥n","Dorado","Plateado","Beige","Fucsia"],

  ciudades:["Tokio","Par√≠s","Nueva York","Roma","Londres","S√≠dney","√Åmsterdam","Se√∫l",
            "Barcelona","Los √Ångeles","Dub√°i","Berl√≠n","Buenos Aires","Toronto","El Cairo","Madrid"],

  autos:["Ferrari","Toyota","Mercedes","Audi","Tesla","Ford","BMW","Chevrolet",
         "Lamborghini","Honda","Porsche","Hyundai","Range Rover","Volkswagen","Peugeot","Citro√´n"],

  alimentos:["Chocolate","Manzana","Caf√©","Pan","Carne","Pasta","Arroz","Queso",
             "Pollo","Miel","Nueces","Salm√≥n","Fresas","Aguacate","Huevos","Yogur"],

  profesiones:["M√©dico","Artista","Ingeniero","Abogado","Maestro","Programador","Empresario","Psic√≥logo",
               "Chef","Polic√≠a","Arquitecto","Deportista","Cient√≠fico","Actor","Piloto","Escritor"],

  animales:["Le√≥n","Lobo","√Åguila","Delf√≠n","Tigre","Serpiente","Perro","Gato",
            "Caballo","B√∫ho","Tibur√≥n","Oso","Cuervo","Conejo","Toro","Halc√≥n"],

  estaciones:["Primavera","Verano","Oto√±o","Invierno","Amanecer","Atardecer","Mediod√≠a","Medianoche",
              "Clima tropical","Clima √°rtico","Clima templado","Clima des√©rtico",
              "Ambiente h√∫medo","Ambiente seco","Zona monta√±osa","Zona costera"],

  instrumentos:["Piano","Guitarra","Viol√≠n","Flauta","Bater√≠a","Saxof√≥n","Arpa","Trompeta",
                "Bajo","Acorde√≥n","Ukelele","Timbal","DJ Mixer","Voz humana","√ìrgano","Cello"],

  paises:["Jap√≥n","Estados Unidos","Francia","Espa√±a","Alemania","Italia","M√©xico","Brasil",
          "Argentina","Canad√°","Australia","Egipto","India","China","Rusia","Grecia"],

  metales:["Oro","Plata","Bronce","Cobre","Hierro","Plomo","Titanio","Mercurio",
           "Acero","Lat√≥n","Platino","Wolframio","N√≠quel","Aluminio","Cobalto","Iridio"],

  paisajes:["Mar","Bosque","Monta√±a","Desierto","Cascada","Pradera","Jungla","Cueva",
            "Glaciar","Ca√±√≥n","Volc√°n","Llanura","Isla","Tundra","Sabana","Arrecife"],

  arquitectura:["Minimalista","Barroco","G√≥tico","Rom√°nico","Brutalista","Art Deco","Cl√°sico","Futurista",
                "Industrial","Neocl√°sico","Org√°nico","Colonial","High-Tech","Renacentista","Moderno","Posmoderno"],

  sabores:["Dulce","√Åcido","Amargo","Salado","Umami","Picante","Agridulce","Herbal",
           "Tostado","Fresco","Cremoso","Fermentado","Marino","Ahumado","Frutal","Especiado"],

  tecnologias:["Inteligencia Artificial","Rob√≥tica","Web3","Criptomonedas","Medicina avanzada","Bioingenier√≠a",
               "Big Data","Nanotecnolog√≠a","Realidad Virtual","Sat√©lites","Automoci√≥n el√©ctrica","IoT",
               "Cloud","Energ√≠a nuclear","Drones","Computaci√≥n cu√°ntica"],

  epocas:["Antigua Grecia","Roma Imperial","Edad Media","Renacimiento","Ilustraci√≥n","Revoluci√≥n Industrial",
          "A√±os 20","A√±os 50","A√±os 80","Actualidad","Futuro cercano","Futuro lejano",
          "Barroco","Romanticismo","Modernismo","Transhumanismo"],

  arquetipos:["Drag√≥n","F√©nix","Unicornio","Kraken","Pegaso","Minotauro","Sirena","Grifo",
              "Quimera","Anubis","Thor","Medusa","Zeus","Hades","Ra","Od√≠n"]
};

// ========================= ESTADO GLOBAL =========================
let tipo = "";
let index = 0;
let resps = [];
let lastResult = null;

// ========================= NAVEGACI√ìN =========================
function go(id){
  ["home","about","menu","test","result"].forEach(s=>{
    document.getElementById(s).classList.add("hidden");
  });
  document.getElementById(id).classList.remove("hidden");
}

function startTest(t){
  tipo = t;
  index = 0;
  resps = Array(16).fill(5);
  document.body.className = "";
  document.getElementById("testName").innerText = "Test ‚Ä¢ " + nombreTest(t);
  loadQ();
  go("test");
}

function nombreTest(t){
  const map = {
    colores:"Colores ‚Äî Emoci√≥n",
    ciudades:"Ciudades ‚Äî Expansi√≥n social",
    autos:"Autom√≥viles ‚Äî Ambici√≥n y ritmo",
    alimentos:"Alimentos ‚Äî Instinto y placer",
    profesiones:"Profesiones ‚Äî Vocaci√≥n",
    animales:"Animales ‚Äî Fuerza instintiva",
    estaciones:"Estaciones ‚Äî Ritmo vital",
    instrumentos:"Instrumentos ‚Äî Creatividad",
    paises:"Pa√≠ses ‚Äî Visi√≥n global",
    metales:"Metales ‚Äî Fortaleza interna",
    paisajes:"Paisajes ‚Äî Terreno emocional",
    arquitectura:"Arquitectura ‚Äî Orden mental",
    sabores:"Sabores ‚Äî Recompensa emocional",
    tecnologias:"Tecnolog√≠as ‚Äî Adaptaci√≥n futura",
    epocas:"√âpocas hist√≥ricas ‚Äî Tiempo interno",
    arquetipos:"Arquetipos ‚Äî Inconsciente simb√≥lico"
  };
  return map[t] || t;
}

// ========================= TEST =========================
function loadQ(){
  const q = tests[tipo][index];
  document.getElementById("pregunta").innerText = (index+1) + ". " + q;
  document.getElementById("slider").value = resps[index];
  document.getElementById("valor").innerText = resps[index];
}
function updateVal(){
  resps[index] = Number(document.getElementById("slider").value);
  document.getElementById("valor").innerText = resps[index];
}

function next(){
  if(index < 15){ index++; loadQ(); }
  else{ calcular(); }
}
function prev(){
  if(index > 0){ index--; loadQ(); }
}

// ========================= TABLA MPM (mensajes base neutros) =========================
const tabla = {
 "1111":[1,"fuego", 4,"Energ√≠a alta disponible, es buen momento para moverte."],
 "0000":[2,"fuego",-3,"Energ√≠a contenida; conviene encender motivaci√≥n y acci√≥n."],
 "0110":[3,"agua", 4,"Emoci√≥n en expansi√≥n; escucha lo que sientes."],
 "1001":[4,"agua",-3,"Acumulaci√≥n emocional; liberar y expresar ayuda."],
 "1000":[5,"aire", 4,"Mente clara e ideas listas para avanzar."],
 "0001":[6,"tierra",-3,"Falta estructura; ordenar tu base te fortalecer√°."],
 "1110":[7,"tierra", 4,"Ra√≠z s√≥lida; buen punto para construir a largo plazo."],
 "0111":[8,"aire",-3,"Mucha mente activa; enfocar evita dispersi√≥n."],
 "1100":[9,"fuego", 2,"Impulso favorable; avanza con pasos concretos."],
 "0011":[10,"fuego",-1,"Impulso inestable; conviene revisar antes de actuar."],
 "0100":[11,"agua", 2,"Sensibilidad √∫til para relaciones y decisiones humanas."],
 "0010":[12,"tierra", 2,"Disciplina y constancia est√°n disponibles para ti."],
 "1101":[13,"tierra",-1,"Puede haber cansancio; cuidar el cuerpo y ritmo es clave."],
 "1011":[14,"agua",-1,"Emoci√≥n removida; observar sin juicio ayuda a integrar."],
 "1010":[15,"aire", 2,"Creatividad mental activa; buen momento para dise√±ar cambios."],
 "0101":[16,"aire",-1,"Exceso mental; bajar al cuerpo y a lo concreto equilibra."
 ]
};

// ========================= C√ÅLCULO DE BLOQUE CON MATIZ =========================
function calcBlock(start){
  const vals = resps.slice(start,start+4);
  const bitsArr = vals.map(v=>v>=6?1:0);   // UMBRAL SUBIDO A 6
  const bits = bitsArr.join("");
  const d = tabla[bits] || ["-","aire",0,"Lectura neutra."];

  const avg = vals.reduce((a,b)=>a+b,0)/vals.length;

  let matiz = "";

  const allOn  = bitsArr.every(b=>b===1);
  const allOff = bitsArr.every(b=>b===0);

  if(allOn){
    if(avg >= 8.5)      matiz = " de forma muy marcada; conviene canalizar bien esta intensidad.";
    else if(avg >= 7.0) matiz = " de forma clara, con fuerza suficiente para sostener cambios.";
    else                matiz = " pero todav√≠a en fase suave o inicial, con margen para crecer.";
  }else if(allOff){
    if(avg <= 2.5)      matiz = " de manera intensa; conviene prestar especial atenci√≥n a este √°rea.";
    else if(avg <= 4.0) matiz = " de manera moderada, con margen de ajuste si se act√∫a a tiempo.";
    else                matiz = " de forma ligera, m√°s como advertencia que como bloqueo real.";
  }else{
    if(avg >= 7.5)      matiz = " con mezcla de se√±ales pero predominio intenso de la tendencia.";
    else if(avg <= 4.5) matiz = " con mezcla de se√±ales y cierta contenci√≥n que frena el impulso.";
    else                matiz = " con matiz intermedio; hay margen de maniobra y ajuste.";
  }

  let baseMsg = d[3];
  if(matiz){
    baseMsg = baseMsg.replace(/\.$/,"") + matiz;
  }

  return {id:d[0], elem:d[1], valor:d[2], msg:baseMsg, bits, avg};
}

// ========================= C√ÅLCULO Y PRON√ìSTICO =========================
function calcular(){
  const B1 = calcBlock(0);
  const B2 = calcBlock(4);
  const B3 = calcBlock(8);
  const B4 = calcBlock(12);

  const total = B1.valor + B2.valor + B3.valor + B4.valor;

  const count = {fuego:0,agua:0,aire:0,tierra:0};
  [B1,B2,B3,B4].forEach(b=>count[b.elem]++);
  const dom = Object.keys(count).reduce((a,b)=>count[a]>=count[b]?a:b);

  document.body.className = "theme-"+dom;

  const pronostico = generarPronostico(total, dom);

  const niceElem = e => e.charAt(0).toUpperCase()+e.slice(1);

  const html = `
  <b>M√≥dulo evaluado:</b> ${nombreTest(tipo)}<br><br>
  <b>Situaci√≥n:</b> C√≥digo ${B1.id} <span class="tag ${B1.elem}">${niceElem(B1.elem)}</span> ‚Äî ${B1.msg}<br><br>
  <b>Movimiento:</b> C√≥digo ${B2.id} <span class="tag ${B2.elem}">${niceElem(B2.elem)}</span> ‚Äî ${B2.msg}<br><br>
  <b>Transformaci√≥n:</b> C√≥digo ${B3.id} <span class="tag ${B3.elem}">${niceElem(B3.elem)}</span> ‚Äî ${B3.msg}<br><br>
  <b>Resultado:</b> C√≥digo ${B4.id} <span class="tag ${B4.elem}">${niceElem(B4.elem)}</span> ‚Äî ${B4.msg}<br><br>
  <b>Valor total:</b> ${total>0? "+"+total: total}<br>
  <b>Elemento dominante:</b> ${niceElem(dom)}<br><br>
  <b>Pron√≥stico MPM:</b><br>
  <span style="font-size:15px;">${pronostico}</span>
  `;

  document.getElementById("resultado").innerHTML = html;

  lastResult = {
    tipo: tipo,
    nombreModulo: nombreTest(tipo),
    B1,B2,B3,B4,
    total, dom, pronostico
  };

  go("result");
}

function generarPronostico(total, dom){
  let base = "";
  if(total >= 8){
    base = "La energ√≠a actual es claramente favorable. Si mantienes enfoque y coherencia, puedes aprovechar una ventana de crecimiento muy positiva.";
  }else if(total >= 3){
    base = "La energ√≠a es moderadamente favorable. Hay elementos a favor, pero requieren continuidad y peque√±as correcciones para sostenerlos.";
  }else if(total >= -2){
    base = "La energ√≠a est√° en transici√≥n. No es ni claramente positiva ni claramente tensa; es un buen momento para ajustar direcci√≥n antes de decidir cosas importantes.";
  }else if(total >= -6){
    base = "La lectura muestra cierta tensi√≥n o dispersi√≥n. No es una condena, sino una invitaci√≥n a revisar decisiones, ritmos y prioridades.";
  }else{
    base = "La energ√≠a se percibe densa o frenada. Esto suele indicar acumulaci√≥n de temas no resueltos que pueden transformarse con ajustes conscientes.";
  }

  const extraMap = {
    fuego:"El fuego dominante se√±ala acci√≥n, impulso y necesidad de mover ficha, pero siempre con consciencia para no quemar etapas.",
    agua:"El agua dominante indica profundidad emocional y sensibilidad. Bien usada, es intuici√≥n; sin orden, puede volverse confusi√≥n.",
    tierra:"La tierra dominante habla de estructura, cuerpo, rutina y materia. Es momento de cuidar bases, h√°bitos y recursos.",
    aire:"El aire dominante refleja mucha mente, ideas y an√°lisis. Puede abrir caminos, siempre que se concrete en pasos reales."
  };

  return base + " " + (extraMap[dom] || "");
}

// ========================= ENV√çO POR EMAIL =========================
function sendEmail(){
  if(!lastResult){
    alert("Primero realiza un test y obt√©n un resultado.");
    return;
  }
  const name = document.getElementById("userName").value.trim();
  const email = document.getElementById("userEmail").value.trim();

  if(!name){
    alert("Por favor, escribe al menos tu nombre.");
    return;
  }

  const r = lastResult;
  const line = (b, etiqueta) =>
    `${etiqueta}: C√≥digo ${b.id} (${b.elem}) - ${b.msg}`;

  const body =
`Nombre: ${name}
Correo de contacto: ${email || "no indicado"}

M√≥dulo evaluado: ${r.nombreModulo}

${line(r.B1,"Situaci√≥n")}
${line(r.B2,"Movimiento")}
${line(r.B3,"Transformaci√≥n")}
${line(r.B4,"Resultado")}

Valor total MPM: ${r.total>0? "+"+r.total : r.total}
Elemento dominante: ${r.dom.toUpperCase()}

Pron√≥stico MPM:
${r.pronostico}

Por favor, realiza un an√°lisis profundo y personalizado de este resultado aplic√°ndolo a mi caso (personal, empresarial o ambos).`;

  const subject = `Nuevo resultado MPM ‚Äî ${name}`;
  const mailto = `mailto:preemptivemovement@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
  window.location.href = mailto;
}
</script>

</body>
</html>
